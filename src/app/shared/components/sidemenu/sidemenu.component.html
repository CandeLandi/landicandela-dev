<aside class="hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:block lg:w-20 xl:w-24">
  <div class="flex h-full flex-col">
    <nav class="flex-1 px-3 xl:px-4 py-8">
      <ul class="space-y-4">
        @for (item of menuItems; track item.id) {
          <li>
            <button
              (click)="scrollToSection(item.id)"
              [class]="'group relative w-full flex items-center justify-center p-3 xl:p-4 rounded-xl transition-all duration-300 ' +
                (activeSection === item.id
                  ? 'bg-gradient-to-r from-purple-600/20 to-purple-500/20 text-purple-400 shadow-lg shadow-purple-500/20'
                  : 'text-gray-400 hover:text-white hover:bg-gray-800/50')"
              [title]="item.label"
            >
              <i-lucide [name]="item.icon" class="w-5 h-5 xl:w-6 xl:h-6"></i-lucide>

              @if (activeSection === item.id) {
                <div class="absolute -right-3 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-purple-400 to-purple-600 rounded-full"></div>
              }

              <div class="absolute left-full ml-4 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 border border-gray-700">
                {{ item.label }}
                <div class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45 border-l border-b border-gray-700"></div>
              </div>
            </button>
          </li>
        }
      </ul>
    </nav>

    <div class="px-3 xl:px-4 pb-8">
      <div class="space-y-3">
        <a
          href="https://github.com/candelandi"
          class="group flex items-center justify-center p-2.5 xl:p-3 text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition-all duration-300"
          title="GitHub"
          target="_blank"
          rel="noopener noreferrer"
        >
          <i-lucide name="github" class="w-4 h-4 xl:w-5 xl:h-5"></i-lucide>
        </a>
        <a
          href="https://linkedin.com/in/candela-landi"
          class="group flex items-center justify-center p-2.5 xl:p-3 text-gray-400 hover:text-blue-400 hover:bg-gray-800/50 rounded-lg transition-all duration-300"
          title="LinkedIn"
          target="_blank"
          rel="noopener noreferrer"
        >
          <i-lucide name="linkedin" class="w-4 h-4 xl:w-5 xl:h-5"></i-lucide>
        </a>
      </div>
    </div>
  </div>
</aside>

<header class="lg:hidden sticky top-0 z-50 bg-black/90 backdrop-blur-sm border-b border-gray-800">
  <div class="px-4 sm:px-6 py-4">
    <div class="flex justify-between items-center">
      <span class="text-lg font-bold text-purple-400">Candela Landi</span>
      <button
        (click)="toggleMobileMenu()"
        class="text-gray-400 hover:text-white p-2"
      >
        @if (!isMobileMenuOpen) {
          <i-lucide name="menu" class="w-6 h-6"></i-lucide>
        }
        @if (isMobileMenuOpen) {
          <i-lucide name="x" class="w-6 h-6"></i-lucide>
        }
      </button>
    </div>
  </div>

  @if (isMobileMenuOpen) {
    <div class="absolute top-full left-0 right-0 bg-gray-900/95 backdrop-blur-xl border-b border-gray-800/50">
      <nav class="px-4 py-6">
        <ul class="space-y-2">
          @for (item of menuItems; track item.id) {
            <li>
              <button
                (click)="scrollToSection(item.id)"
                [class]="'w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-300 ' +
                  (activeSection === item.id
                    ? 'bg-gradient-to-r from-purple-600/20 to-purple-500/20 text-purple-400'
                    : 'text-gray-400 hover:text-white hover:bg-gray-800/50')"
              >
                <i-lucide [name]="item.icon" class="w-5 h-5"></i-lucide>
                <span class="font-medium">{{ item.label }}</span>
              </button>
            </li>
          }
        </ul>
      </nav>
    </div>
  }
</header>
